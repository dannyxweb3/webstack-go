<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="viggo"/>
    <title>{{ .ConfigSite.SiteTitle }}</title>
    <meta name="keywords" content="{{ .ConfigSite.SiteKeyword }}"/>
    <meta name="description" content="{{ .ConfigSite.SiteDesc }}"/>

    <link rel="shortcut icon" href="/assets/static/index/images/x8/favicon.png"/>
    <link rel="stylesheet" href="/assets/static/index/css/fonts/linecons/css/linecons.css"/>
    <link rel="stylesheet" href="/assets/static/index/css/fonts/fontawesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="/assets/static/index/css/bootstrap.css"/>
    <link rel="stylesheet" href="/assets/static/index/css/xenon-core.css"/>
    <link rel="stylesheet" href="/assets/static/index/css/xenon-components.css"/>
    <link rel="stylesheet" href="/assets/static/index/css/xenon-skins.css"/>
    <link rel="stylesheet" href="/assets/static/index/css/nav.css"/>
    <link rel="stylesheet" href="/assets/static/index/css/hclonely.css"/>
    <script src="assets/static/index/js/jquery-1.11.1.min.js"></script>
</head>

<body class="page-body boxed-container">
<nav class="navbar horizontal-menu navbar-fixed-top">
    <div class="navbar-inner">
        <div class="navbar-brand">
            <a href="/" class="logo">
                <img src="assets/static/index/images/x8/logo_dark@2x.png" style="max-width: 200px; max-height: 85px;" alt="" class="hidden-xs"/>
                <img src="assets/static/index/images/x8/logo@2x.png" style="max-width:200px; max-height: 85px;" alt="" class="visible-xs"/>
            </a>
        </div>
        <div class="navbar-mobile-clear"></div>
        <a href="https://github.com/dannyxweb3/webstack-go" target="_blank">
            <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149" alt="Fork me on GitHub"/>
        </a>
    </div>
</nav>
<script src="https://www.google.com/recaptcha/api.js" async="" defer=""></script>
<div class="page-container">
    <div class="main-content td-linl-items" style="">

        <div class="row">&nbsp;</div>
        <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6">
                    <h3>联系我们</h3>
                    <!--  -->
                    <p><string>站长邮箱:</string> admin@theadultnav.com </p>
                    <p><string>站长TG:</string> @theadultnav </p>
                    <h3>申请收录</h3>
                    <p><strong>收录流程：</strong></p>
                    <p>1、申请成功系统会吐出专属独立网址，请务必上系统给的网址</p>
                    <p>2、上链后请等待站长审核，若24小时候未看到站点显示，可连系TG@theadultnav</p>
                    <p>3、系統每日检测，IP低于30则会下链，下链后满30会上架</p>
                    <p>4、本站顺序不定时调整，依照流量高低排序</p>
                    <p>※建议站长可将我站放置醒目位置</p>
                    <p>5、如遇任何问题可发送MAIL至 admin@theadultnav.com 反馈！</p>
                    <p>※图片站、小说站 申请完后通知站长更换类别即可。</p>

                    <p><strong>收录规范：(若有违规将不另通知)</strong></p>
                    <p>1、不接受非正方形图片、有未成年疑虑、人兽相关，若违规将更换图片</p>
                    <p>2、不接受未成年、人兽交站点以及相关敏感字眼</p>
                    <p>3、本站收录以免费站为主，提交网址请放免费内容</p>
                    <p>※若违规第2、3点，会直接黑名单，永不收录※</p>
                </div>
                <div class="col-sm-6">

                    <form action="/addyoursite" method="post" class="form1" id="form1" enctype="multipart/form-data">
                        <input type="hidden" name="_token" value="">
                            
                            <!-- <div class="mdui-divider mdui-m-b-2 mdui-hidden-sm-up"></div> -->
                            <div class="" style="border-bottom: 2px #F1F2F9 solid;">
                                <h3> 提交链接</h3>
                            </div>
                            <div class="">
                                <div class="form-group">
                                    <label for="name" style="font-size: 18px; color: #ff4081!important;">
                                        网站名称 <small style="font-size: 80%; color: #000000!important;">(8个中文字符以内)</small></label>
                                    <input type="text" class="form-control" id="site_name" name="title" value="" placeholder="请输入您的网站名称">
                                    <div id="name_msg" class="form-text text-danger hidden" style="font-size: 110%;font-weight: bold;">网站名称请在8个中文字符以内</div>
                                </div>
                                <div class="form-group">
                                    <label for="url" style="font-size: 18px; color: #ff4081!important;">
                                        网站网址 <small style="font-size: 80%; color: #000000!important;">（必须使用http://或者https://开头 ）同一域名只能提交一次</small></label>
                                    <input type="text" class="form-control" id="site_url" name="url" value="" placeholder="http://">
                                    <div id="url_msg" class="form-text text-danger hidden" style="font-size: 110%;font-weight: bold;"></div>
                                </div>
                                <div class="form-group">
                                    <label for="icon" style="font-size: 18px; color: #ff4081!important;">
                                        网站Icon <small style="font-size: 80%; color: #000000!important;">只能上传url</small></label>
                                    <input type="text" class="form-control" id="site_icon" name="icon" value="">
                                    <div id="icon_msg" class="form-text text-danger hidden" style="font-size: 110%;font-weight: bold;"></div>
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputEmail1" style="font-size: 18px; color: #ff4081!important;">
                                        您的网站类别： <small style="font-size: 80%; color: #000000!important;">(虚假填写,类别不符合,直接拉入黑名单)</small></label>
                                    <select class="form-control" name="category" id="category_id">
                                        <option value="">请选择网站类型</option>
                                        <option value="3">视频站</option>
                                        <option value="28">导航站</option>
                                    </select>
                                    <div id="category_id_msg" class="form-text text-danger hidden" style="font-size: 110%;font-weight: bold;"></div>
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputEmail1" style="font-size: 18px; color: #ff4081!important;">
                                        网站叙述 <small style="font-size: 80%; color: #000000!important;">(20个中文字符以内)</small></label>
                                    <input type="text" class="form-control" id="site_description" name="description" value="" placeholder="请输入您的網站敘述">
                                    <div id="description_msg" class="form-text text-danger hidden" style="font-size: 110%;font-weight: bold;"></div>
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputEmail1" style="font-size: 18px; color: #ff4081!important;">
                                        連繫方式 <small style="font-size: 80%; color: #000000!important;">(不接受其他联系方式)</small></label>
                                    <input type="text" class="form-control" id="site_email" name="contact" value="" placeholder="请输入您的电子邮件">
                                    <div id="email_msg" class="form-text text-danger " style="font-size: 110%;font-weight: bold;"></div>
                                    <input type="text" class="form-control" id="site_telegram_acc" name="telegram_acc" value="" placeholder="请输入您的飞机号">
                                    <div id="telegram_acc_msg" class="form-text text-danger hidden" style="font-size: 110%;font-weight: bold;"></div>
                                </div>
                                <div class="form-group">
                                    <label for="exampleInputEmail1" style="font-size: 18px; color: #ff4081!important;">
                                        給站長的話 <small style="font-size: 80%; color: #000000!important;"></small></label>
                                    <input type="text" class="form-control" id="site_webmaster" name="msg" value="" placeholder="请输入給站長的話">
                                </div>
                                <div class="form-group">
                                    <!-- <div class="g-recaptcha" data-sitekey="6LcbJlUcAAAAAJ0SNE-FB6Mn1sG-tNUtbZVC_CWx"><div style="width: 304px; height: 78px;"><div><iframe title="reCAPTCHA" width="304" height="78" role="presentation" name="a-qa5cza4hixyt" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" src="https://www.google.com/recaptcha/api2/anchor?ar=2&amp;k=6LcbJlUcAAAAAJ0SNE-FB6Mn1sG-tNUtbZVC_CWx&amp;co=aHR0cHM6Ly94eC1tYXAuY29tOjQ0Mw..&amp;hl=en&amp;v=3jpV4E_UA9gZWYy11LtggjoU&amp;size=normal&amp;anchor-ms=20000&amp;execute-ms=15000&amp;cb=2pvqjzlljchh"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;"></iframe></div> -->
                                    <input type="hidden" name="token">

                                    <a id="submit" style="text-decoration: none;width: 100%;background-color: #445566;" class="btn btn-primary">提交收录</a>
                                </div>
                                <div class="form-group">
                                    <span class="text-danger" id="form_result"></span>
                                    <div style="font-size: 18px; color: #ff4081!important;">申请收录完成请第一时间做上我站链接，并且点击一次自助收录！！！如果不点击不会被收录</div>
                                </div>
                            </div>
                    </form>
                </div>
            </div>
        </div>
        </div>
        </div>
        </div>
    </div>


</div>
<!-- Bottom Scripts -->
<script src="assets/static/index/js/bootstrap.min.js"></script>
<script src="assets/static/index/js/TweenMax.min.js"></script>
<script src="assets/static/index/js/resizeable.js"></script>
<!-- JavaScripts initializations and stuff -->
<script type="text/javascript" src="/assets/static/admin/js/httpclient.js"></script>
<script type="text/javascript" src="/assets/static/plugin/bootstrap-markdown-editor/js/marked.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {

        $('#form1').on('submit', function(e) {
            e.preventDefault(); // 阻止表单默认提交（避免页面跳转）
                // 发送 AJAX 请求
            $.ajax({
                url: $(this).attr('action') || window.location.href, // 表单的 action 属性，或当前页面 URL
                type: $(this).attr('method') || 'POST', // 表单的 method 属性，默认 POST
                data: $(this).serialize(), // 序列化表单数据
                success: function(response) {
                    // 成功后，将后端返回的 msg 显示在 #form_result 中
                    $('#form_result').text(response.msg); // 假设后端返回 JSON: { "msg": "操作成功" }
                },
                error: function(xhr, status, error) {
                    // 错误处理
                    $('#form_result').text('请求失败: ' + error);
                }
            });
        });
        return;
        AjaxForm(
            "GET",
            "/api/about",
            "",
            function () {},
            function (data) {
                // 将字符串解析为 HTML 文档
                const parser = new DOMParser();
                const site_doc = parser.parseFromString(marked(data.about_site), 'text/html');
                const website = document.getElementById('website');
                website.innerHTML = '';
                website.appendChild(site_doc.body)

                const about = document.getElementById('about');
                const author_doc = parser.parseFromString(marked(data.about_author), 'text/html');
                about.innerHTML = '';
                about.appendChild(author_doc.body)

            },
            function (response) {
                AjaxError(response);
            }
        )


    })
</script>

<script>

    var submitFlag = true ;
    $('#site_url').blur( function() {
        console.log( 'mouse out') ;
        let urlVal = $(this).val();
        checkUrl( urlVal) ;
    }) ;

    $('#site_description').blur( function() {
        console.log( 'mouse out') ;
        let textVal = $(this).val();
        checkDescription( textVal) ;
    }) ;

    $('#site_name').blur( function() {
        console.log( 'mouse out') ;
        let nameVal = $(this).val();
        checkName( nameVal) ;
    }) ;

    $('#site_email').blur( function() {
        console.log( 'mouse out') ;
        let emailVal = $(this).val();
        checkEmail( emailVal) ;
    }) ;

    $('#submit').click( function () {
        // $('.form1').submit() ;
        $('input[type=text]').each( function () {
            let inp_name = $(this).attr('name') ;
            let colVal = $(this).val() ;
            let urlVal = $('#site_url').val();
            let textVal = $('#site_description').val();
            let nameVal = $('#site_name').val();
            let emailVal = $('#site_email').val();
            var msgObj = $('#'+inp_name+'_msg') ;
            switch ( inp_name) {
                case "name" :
                    checkName( nameVal)
                    break ;
                case "description" :
                    checkDescription( textVal) ;
                    break ;
                case "code" :
                    if ( colVal.length == 0) {
                        submitFlag = false ;
                        msgObj.removeClass('hidden') ;
                        msgObj.html('認証碼未填寫') ;
                    } else {
                        msgObj.addClass('hidden') ;
                    }
                    break ;
                case "url" :
                    checkUrl( urlVal) ;
                    break ;
                case "email" : 
                    checkEmail( emailVal) ;
                    break ;
            }
        }) ;


        // if  ($('input[name=telegram_acc]').val().length == 0) {
        //     submitFlag = false ;
        //     $('#telegram_acc_msg').html('连系飞机号未填写') ;
        //     $('#telegram_acc_msg').removeClass('hidden') ;

        // } else if ( $('input[name=telegram_acc]').val().length != 0) {
        //     $('#telegram_acc_msg').addClass('hidden') ;
        // }

        $('input[type=file]').each( function () {
            let re = /\.(jpg|gif)$/i;  //允許的圖片副檔名
            let inp_name = $(this).attr('name') ;
            let colVal = $(this).val() ;
            var msgObj = $('#'+inp_name+'_msg') ;
            if ( colVal.length === 0) {
                submitFlag = false;
                msgObj.html('网站Icon未上传');
                msgObj.removeClass('hidden');
            } else if ( !re.test(colVal)) {
                submitFlag = false;
                msgObj.html('只允许上传JPG或GIF影像档');
                msgObj.removeClass('hidden');
            } else {
                msgObj.addClass('hidden') ;
            }
        }) ;
        let colVal = $('#category_id').val() ;
        var msgObj = $('#category_id_msg') ;
        if ( colVal == '') {
            submitFlag = false ;
            msgObj.html('网站类别未选择') ;
            msgObj.removeClass('hidden') ;
        } else {
            msgObj.addClass('hidden') ;
        }

        console.log( submitFlag) ;
        if ( submitFlag){
            console.log(".form1.submit()") ;
            $('.form1').submit() ;
        }
        return submitFlag ;
    });

    function checkUrl( urlVal, ) {
        re = /^(http|https):\/\/([\w.]+\/?)\S/g;
        found = urlVal.match(re);
        if ( found === null) {
            submitFlag = false;
            $('#url_msg').html('请确认网站网址是否正确');
            $('#url_msg').removeClass('hidden');
        } else if ( urlVal.length == 0) {
            submitFlag = false;
            $('#url_msg').html('未填写网站网址');
            $('#url_msg').removeClass('hidden');
        } else {
            $('#url_msg').addClass('hidden');
            // $.ajax({
            //     url: '/addmysite',
            //     type: 'post',
            //     data: {
            //         "_token": "CBJDtJChEdplb0grsx3S2ufEUoIhflGmeSq6BkZR",
            //         checkUrl: urlVal,
            //     },
            //     success: function (data) {
            //         // data2=JSON.parse(data);
            //         if (data.code == '0') {
            //             submitFlag = true;
            //             $('#url_msg').addClass('hidden');
            //             // msgObj.addClass('hidden') ;
            //         } else {
            //             submitFlag = false;
            //             $('#url_msg').html(data.message);
            //             $('#url_msg').removeClass('hidden');
            //             // msgObj.html(data.message);
            //             // msgObj.removeClass('hidden');
            //         }
            //     }
            // });
        }
    }

    function checkDescription( textVal) {
        if (strlen( textVal) > 20 ) {
            submitFlag = false ;
            $('#description_msg').html('网站叙述長度過長 (20个中文字符以内)') ;
            $('#description_msg').removeClass('hidden') ;
        } else if ( textVal.length == 0) {
            submitFlag = false ;
            $('#description_msg').html('网站叙述未填写') ;
            $('#description_msg').removeClass('hidden') ;
        } else {
            console.log(textVal);
            $('#description_msg').addClass('hidden');
            // $.ajax({
            //     url: '/adoptDescription',
            //     type: 'post',
            //     data: {
            //         "_token": "CBJDtJChEdplb0grsx3S2ufEUoIhflGmeSq6BkZR",
            //         checkDescription: textVal,
            //     },

            //     success: function (data) {
            //         // data2=JSON.parse(data);
            //         if (data.code == '0') {
            //             submitFlag = true;
            //             $('#description_msg').addClass('hidden');
            //             // msgObj.addClass('hidden') ;
            //         } else {
            //             submitFlag = false;
            //             $('#description_msg').html(data.message);
            //             $('#description_msg').removeClass('hidden');
            //             // msgObj.html(data.message);
            //             // msgObj.removeClass('hidden');
            //         }
            //     }
            // });
        }
    }

    function checkName( nameVal) {
        if ( strlen( nameVal) > 16 ) {
            submitFlag = false ;
            $('#name_msg').html('网站名称長度過長 (8个中文字符以内)') ;
            $('#name_msg').removeClass('hidden') ;
        } else if ( nameVal.length == 0) {
            submitFlag = false ;
            $('#name_msg').html('网站名称未填寫') ;
            $('#name_msg').removeClass('hidden') ;
        } else {
            $('#name_msg').addClass('hidden');
            console.log(nameVal);
            // $.ajax({
            //     url: '/adoptName',
            //     type: 'post',
            //     data: {
            //         "_token": "CBJDtJChEdplb0grsx3S2ufEUoIhflGmeSq6BkZR",
            //         checkName: nameVal,
            //     },

            //     success: function (data) {
            //         // data2=JSON.parse(data);
            //         if (data.code == '0') {
            //             submitFlag = true;
            //             $('#name_msg').addClass('hidden');
            //             // msgObj.addClass('hidden') ;
            //         } else {
            //             submitFlag = false;
            //             $('#name_msg').html(data.message);
            //             $('#name_msg').removeClass('hidden');
            //             // msgObj.html(data.message);
            //             // msgObj.removeClass('hidden');
            //         }
            //     }
            // });
        }
    }

    function checkEmail( emailVal, ) {
        if (emailVal.length == 0 ) {
            submitFlag = false ;
            $('#email_msg').html('连系电子邮件未填写') ;
            $('#email_msg').removeClass('hidden');
        } else if (emailVal.length > 1){
            console.log('長度大於1');
            if (/^[a-zA-Z0-9._-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(emailVal)) {
                submitFlag = true;
                document.querySelector('#email_msg').classList.add('hidden');
            } else {
                submitFlag = false;
                document.querySelector('#email_msg').innerHTML = '连系电子邮件格式错误';
                document.querySelector('#email_msg').classList.remove('hidden');
            }
        }
    }

    function strlen(str) {
        var s = 0;
        for(var i = 0; i < str.length; i++) {
            if(str.charAt(i).match(/[u0391-uFFE5]/)) {
                s += 2;
            } else {
                s++;
            }
        }
        return s;
    }
</script>
<textarea tabindex="-1" style="position: absolute; top: -999px; left: 0px; right: auto; bottom: auto; border: 0px; padding: 0px; box-sizing: content-box; word-wrap: break-word; overflow: hidden; transition: none; height: 0px !important; min-height: 0px !important; font-family: Arimo, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-weight: 400; font-style: normal; letter-spacing: 0px; text-transform: none; word-spacing: 0px; text-indent: 0px; line-height: 18.5714px; width: 53px;" class="autosizejs" id="autosizejs"></textarea>
</body>
</html>
